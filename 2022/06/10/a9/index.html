
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>魔兽世界大作业 | DeckNock</title>
        <meta name="author" content="Decknock">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <link rel="icon" href="/img/leina.jpg">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.1.1/js/all.min.js"></script>
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
    <meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity 0.3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">加载过慢请开启缓存(浏览器默认开启)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="show_page" style="display: -not-none">
                    <div id="menu_show">
                         
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">DeckNock</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;home</span>
        </a>
        
        <a href="/2099/05/29/a1/">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;about</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;tags</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div>
        <div :class="'title'" @click="menu_show = !menu_show">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;DeckNock</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">home</div>
                </div>
            </a>
            
            <a href="/2099/05/29/a1/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        
<div class="article">
    <div>
        <h1>魔兽世界大作业 </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/6/10
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#tags-solid"></use></svg>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Cpp" style="color: #00bcd4">
                    Cpp
                </a>
            </span>
            
        </span>
        
    </div>
    <div class="content" v-pre>
        <p>把程设大作业魔兽世界终极版搬上来<br>写的太冗杂了，而且也没用啥指针之类的，就用个vector摁写，太nm烂辣</p>
<span id="more"></span>
<pre><code class="cpp">#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;iomanip&gt;
#include&lt;vector&gt;
using namespace std;

int Time_hour = 0;
int minute = 0;
int M, N, R, K, T;

bool judge_overtime(int number, int limit) &#123;
    minute = 60 * Time_hour + number;
    if (minute &lt;= limit) return false;
    return true;
&#125;

void print_Hour(int t) &#123;
    if (t / 100 != 0) &#123;
        cout &lt;&lt; t;
        return;
    &#125;
    if (t / 10 != 0) &#123;
        cout &lt;&lt; &quot;0&quot; &lt;&lt; t;
        return;
    &#125;
    cout &lt;&lt; &quot;00&quot; &lt;&lt; t;
    return;
&#125;

void pass(int&amp; m) &#123;
    if (m == 4) &#123; m = 0; return; &#125;
    else m = m + 1;
    return;
&#125;

class Weapon &#123;
public:
    int weapon_serial;
    int weapon_strength;
    int use_time;//弓箭为3次，炸弹为1次
    bool is_have_bomb;
    Weapon(int w, int s) &#123;
        weapon_serial = w;
        is_have_bomb = false;
        weapon_strength = 0;
        use_time = 0;
        if (w == 0) &#123;
            weapon_strength = s * 2 / 10;
        &#125;
        else if (w == 1) &#123;
            use_time = 1;
            is_have_bomb = true;
        &#125;
        else &#123;
            use_time = 3;
            weapon_strength = R;
        &#125;
    &#125;
&#125;;

class Soldier &#123;
public:
    vector&lt;Weapon&gt; weapon;//一个武士最多有三种不同的武器(0,1,2)
    int weapon_number;
    string soldiername;
    int strength;//武士本身的攻击力
    int life;//武士的生命值
    double morale;
    int loyalty;
    int signal;//用来标记步数，每前进一步就变成1-signal，用在iceman里面
    int color;//代表所属的方，1代表红，-1代表蓝
    //bool can_fignt;
    //bool can_rob;//判断会不会反击和会不会掠夺武器
    int city_serial;//该武士所在的城市
    int self_serial;//武士的编号
    bool is_red;
    bool is_run;
    bool whether_cheer;
    Soldier(int _order, int _strength, int _life, bool judge, int _self_serial) &#123;
        life = _life;
        strength = _strength;
        is_red = judge;
        if (is_red) city_serial = 0;
        else city_serial = N;
        signal = 0;
        morale = 0.00;
        loyalty = 0;
        is_run = false;
        self_serial = _self_serial;
        if (is_red) color = 1;
        else color = 0;
        weapon_number = 0;
        whether_cheer = false;

    &#125;
    void Run() &#123;
        if (soldiername == &quot;lion&quot;) &#123;
            if (loyalty &lt;= 0 &amp;&amp; city_serial != N + 1) &#123;
                print_Hour(Time_hour);
                if (is_red) &#123;
                    cout &lt;&lt; &quot;:05&quot; &lt;&lt; &quot; red lion &quot; &lt;&lt; self_serial &lt;&lt; &quot; ran away&quot; &lt;&lt; endl;
                &#125;
                else &#123;
                    cout &lt;&lt; &quot;:05&quot; &lt;&lt; &quot; blue lion &quot; &lt;&lt; self_serial &lt;&lt; &quot; ran away&quot; &lt;&lt; endl;
                &#125;
                is_run = true;
            &#125;
        &#125;
    &#125;//soldiername作为判断条件
    void cheer(int k_t, int w) &#123;
        if (soldiername == &quot;dragon&quot;) &#123;
            if (morale &gt; 0.8) &#123;
                print_Hour(k_t);
                if (is_red) &#123;
                    cout &lt;&lt; &quot;:40 red &quot; &lt;&lt; soldiername &lt;&lt; &quot; &quot; &lt;&lt; self_serial &lt;&lt; &quot; yelled in city &quot; &lt;&lt; w &lt;&lt; endl;
                &#125;
                else &#123;
                    cout &lt;&lt; &quot;:40 blue &quot; &lt;&lt; soldiername &lt;&lt; &quot; &quot; &lt;&lt; self_serial &lt;&lt; &quot; yelled in city &quot; &lt;&lt; w &lt;&lt; endl;
                &#125;
            &#125;
        &#125;
    &#125;
    void rob(Soldier &amp;obj) &#123;
        int me = weapon_number;
        int you = obj.weapon_number;
        if (!me) &#123;
            for (int i = 0; i &lt; you; i++) &#123;
                weapon.push_back(obj.weapon[i]);
            &#125;
        &#125;
        else &#123;
            for (int i = 0; i &lt; you; i++) &#123;
                bool whether_use = true;
                for (int j = 0; j &lt; me; j++) &#123;
                    if (weapon[j].weapon_serial == obj.weapon[i].weapon_serial) &#123;
                        whether_use = false;
                    &#125;
                &#125;
                if (whether_use) weapon.push_back(obj.weapon[i]);
                me = weapon_number;
            &#125;
        &#125;
        weapon_number = weapon.size();
    &#125;
    void report_soldier() &#123;
        print_Hour(Time_hour);
        if (is_red) cout &lt;&lt; &quot;:55 red &quot; &lt;&lt; soldiername &lt;&lt; &quot; &quot; &lt;&lt; self_serial &lt;&lt; &quot; has &quot;;
        else cout &lt;&lt; &quot;:55 blue &quot; &lt;&lt; soldiername &lt;&lt; &quot; &quot; &lt;&lt; self_serial &lt;&lt; &quot; has &quot;;
        if (weapon_number) &#123;
            if (weapon_number == 1) &#123;
                if (weapon[0].weapon_serial == 2) &#123;
                    cout &lt;&lt; &quot;arrow(&quot; &lt;&lt; weapon[0].use_time &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                &#125;
                else if (weapon[0].weapon_serial == 1) &#123;
                    cout &lt;&lt; &quot;bomb&quot; &lt;&lt; endl;
                &#125;
                else &#123;
                    cout &lt;&lt; &quot;sword&quot; &lt;&lt; &quot;(&quot; &lt;&lt; weapon[0].weapon_strength &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                &#125;
            &#125;
            else if (weapon_number == 2) &#123;
                if (weapon[0].weapon_serial == 1 &amp;&amp; weapon[1].weapon_serial == 2) &#123;
                    cout &lt;&lt; &quot;arrow(&quot; &lt;&lt; weapon[1].use_time &lt;&lt; &quot;),bomb&quot; &lt;&lt; endl;
                &#125;
                else if (weapon[0].weapon_serial == 2 &amp;&amp; weapon[1].weapon_serial == 1) &#123;
                    cout &lt;&lt; &quot;arrow(&quot; &lt;&lt; weapon[0].use_time &lt;&lt; &quot;),bomb&quot; &lt;&lt; endl;
                &#125;
                else if (weapon[0].weapon_serial == 2 &amp;&amp; weapon[1].weapon_serial == 0) &#123;
                    cout &lt;&lt; &quot;arrow(&quot; &lt;&lt; weapon[0].use_time &lt;&lt; &quot;),sword(&quot; &lt;&lt; weapon[1].weapon_strength &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                &#125;
                else if (weapon[0].weapon_serial == 0 &amp;&amp; weapon[1].weapon_serial == 2) &#123;
                    cout &lt;&lt; &quot;arrow(&quot; &lt;&lt; weapon[1].use_time &lt;&lt; &quot;),sword(&quot; &lt;&lt; weapon[0].weapon_strength &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                &#125;
                else if (weapon[0].weapon_serial == 1 &amp;&amp; weapon[1].weapon_serial == 0) &#123;
                    cout &lt;&lt; &quot;bomb,sword(&quot; &lt;&lt; weapon[1].weapon_strength &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                &#125;
                else if (weapon[0].weapon_serial == 0 &amp;&amp; weapon[1].weapon_serial == 1) &#123;
                    cout &lt;&lt; &quot;bomb,sword(&quot; &lt;&lt; weapon[0].weapon_strength &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                &#125;
            &#125;
            else &#123;
                for (int i = 0; i &lt; 3; i++) &#123;
                    if (weapon[i].weapon_serial == 2) &#123;
                        cout &lt;&lt; &quot;arrow(&quot; &lt;&lt; weapon[0].use_time &lt;&lt; &quot;)&quot; &lt;&lt; &quot;,&quot;;
                        break;
                    &#125;
                &#125;
                for (int i = 0; i &lt; 3; i++) &#123;
                    if (weapon[i].weapon_serial == 1) &#123;
                        cout &lt;&lt; &quot;bomb&quot; &lt;&lt; &quot;,&quot;;
                        break;
                    &#125;
                &#125;
                for (int i = 0; i &lt; 3; i++) &#123;
                    if (weapon[i].weapon_serial == 0) &#123;
                        cout &lt;&lt; &quot;sword&quot; &lt;&lt; &quot;(&quot; &lt;&lt; weapon[0].weapon_strength &lt;&lt; &quot;)&quot; &lt;&lt; endl;
                        break;
                    &#125;
                &#125;
            &#125;
        &#125;
        else &#123;
            cout &lt;&lt; &quot;no weapon&quot; &lt;&lt; endl;
        &#125;
    &#125;
&#125;;


class city &#123;
public:
    vector&lt;Soldier&gt; red_soldier;
    vector&lt;Soldier&gt; blue_soldier;//除了司令部，其余的vector中都只有一个对象
    /*Soldier memory_of_red;
    Soldier memory_of_blue;*/
    int serial;//代表城市的编号
    int flag;//我们规定，1代表红方占领，-1代表蓝方，0代表无任何方占领
    int life_city;//该城市的生命元
    int red_win_time;
    int blue_win_time;//前者记录上次是否获胜，后者记录本次是否获胜
    int whether_killed_by_arrow;
    bool whether_fight;
    city(int _serial, int _life_city) :serial(_serial), life_city(_life_city) &#123;
        flag = 0; red_win_time = 0; blue_win_time = 0; whether_killed_by_arrow = 0;
        whether_fight = false;
    &#125;
    //如果是红被弓箭射死了，那就设置为1，如果是蓝，设为-1，初始值为0
    //0也表示双方都被射死了
    void run() &#123;
        if (red_soldier.size() == 1) &#123;
            if (red_soldier[0].is_run == true) &#123;
                red_soldier.clear();
            &#125;
        &#125;
        else if (red_soldier.size() == 2) &#123;
            if (red_soldier[1].is_run == true) &#123;
                Soldier s(red_soldier[1]);
                red_soldier.clear();
                red_soldier.push_back(s);
            &#125;
        &#125;
        if (blue_soldier.size() == 1) &#123;
            if (blue_soldier[0].is_run == true) &#123;
                blue_soldier.clear();
            &#125;
        &#125;
        else if (blue_soldier.size() == 2) &#123;
            if (blue_soldier[1].is_run == true) &#123;
                Soldier s(blue_soldier[1]);
                blue_soldier.clear();
                blue_soldier.push_back(s);
            &#125;
        &#125;
    &#125;
    void change_flag() &#123;
        if (flag == 0) &#123;
            if (red_win_time == 2) &#123;
                flag = 1;
                print_Hour(Time_hour);
                cout &lt;&lt; &quot;:40 red flag raised in city &quot; &lt;&lt; serial &lt;&lt; endl;
                red_win_time = 0;
                blue_win_time = 0;
            &#125;
            else if (blue_win_time==2) &#123;
                flag = -1;
                print_Hour(Time_hour);
                cout &lt;&lt; &quot;:40 blue flag raised in city &quot; &lt;&lt; serial &lt;&lt; endl;
                red_win_time = 0;
                blue_win_time = 0;
            &#125;
        &#125;
        else if (flag == 1) &#123;
            if (blue_win_time == 2) &#123;
                flag = -1;
                print_Hour(Time_hour);
                cout &lt;&lt; &quot;:40 blue flag raised in city &quot; &lt;&lt; serial &lt;&lt; endl;
                red_win_time = 0;
                blue_win_time = 0;
            &#125;
        &#125;
        else if(flag==-1)&#123;
            if (red_win_time == 2) &#123;
                flag = 1;
                print_Hour(Time_hour);
                cout &lt;&lt; &quot;:40 red flag raised in city &quot; &lt;&lt; serial &lt;&lt; endl;
                red_win_time = 0;
                blue_win_time = 0;
            &#125;
        &#125;
    &#125;
&#125;;

class command :public city &#123;
public:
    string produce_serial[5];
    int _strength[5];
    int _life[5];
    //记录五个武士的初始值
    int order_produce;//记录司令部制造武士的顺序
    int serial_produce;//记录此时司令部制造的武士的序号
    bool color;//红方为1;
    vector&lt;Soldier&gt; _soldier;
    bool is_report;
    command(int _serial, int _life_city, string* p, int* m, int* n, bool sig) :city(_serial, _life_city) &#123;
        order_produce = 0;
        serial_produce = 1;
        for (int i = 0; i &lt; 5; i++) &#123;
            produce_serial[i] = p[i];
            _strength[i] = m[i];
            _life[i] = n[i];
        &#125;
        color = sig;
        is_report = false;
    &#125;//p是传入的顺序


    void push_weapons(Soldier&amp; r) &#123;
        if (r.soldiername == &quot;dragon&quot; || r.soldiername == &quot;iceman&quot;) &#123;
            int a = r.self_serial % 3;
            Weapon r1(a, r.strength);
            r.weapon.push_back(r1);
            r.weapon_number = 1;
        &#125;
        else if (r.soldiername == &quot;ninja&quot;) &#123;
            int a = r.self_serial % 3;
            Weapon r1(a, r.strength);
            r.weapon.push_back(r1);
            Weapon r2((a + 1)%3, r.strength);
            r.weapon.push_back(r2);
            r.weapon_number = 2;
        &#125;
        else &#123;
            r.weapon_number = 0;
        &#125;
    &#125;

    void create_soldier() &#123;
        Soldier new_one(order_produce, _strength[order_produce], _life[order_produce], color, serial_produce);
        new_one.soldiername = produce_serial[order_produce];
        life_city -= _life[order_produce];//主函数中，如果生命不够则跳过
        new_one.morale = (double)life_city / (double)_life[order_produce];
        new_one.loyalty = life_city;
        push_weapons(new_one);
        _soldier.push_back(new_one);
        if (color) red_soldier.push_back(new_one);
        else blue_soldier.push_back(new_one);
    &#125;//新建一个soldier对象，并将其导入vector 
    //不知道是否可行

    void report_command() &#123;
        if (color) &#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:50 &quot; &lt;&lt; life_city &lt;&lt; &quot; elements in red headquarter&quot; &lt;&lt; endl;
        &#125;
        else &#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:50 &quot; &lt;&lt; life_city &lt;&lt; &quot; elements in blue headquarter&quot; &lt;&lt; endl;
        &#125;
    &#125;
&#125;;


//move函数没有解决有一方司令部被占领时，这次循环要终止的问题


void move(vector&lt;city&gt;&amp; c, command&amp; s1, command&amp; s2, bool&amp; cnt) &#123;
    // red._soldier,blue.soldier,City,red,blue

    //思路：首先对城市遍历，然后对soldier数组遍历
    //对城市：对n个城市遍历，红色有士兵加，蓝色就减，重点考察0和N-1，这时候如果

    for (int i = N - 1; i &gt;= 0; i--) &#123;
        if (i == N - 1) &#123;
            if (c[i].red_soldier.size() == 1) &#123;
                if (c[i].red_soldier[0].soldiername == &quot;iceman&quot;) &#123;
                    c[i].red_soldier[0].signal = 1 - c[i].red_soldier[0].signal;
                    if (c[i].red_soldier[0].signal == 0) &#123;
                        c[i].red_soldier[0].strength += 20;
                        if (c[i].red_soldier[0].life &gt; 9) &#123;
                            c[i].red_soldier[0].life -= 9;
                        &#125;
                        else &#123;
                            c[i].red_soldier[0].life = 1;
                        &#125;
                    &#125;
                &#125;
                s2.red_soldier.push_back(c[i].red_soldier[0]);
                if (s2.red_soldier.size() == 2) &#123;
                    cnt = true;
                &#125;
                c[i].red_soldier.clear();
            &#125;
        &#125;
        else &#123;
            if (c[i].red_soldier.size() == 1) &#123;
                if (c[i].red_soldier[0].soldiername == &quot;iceman&quot;) &#123;
                    c[i].red_soldier[0].signal = 1 - c[i].red_soldier[0].signal;
                    if (c[i].red_soldier[0].signal == 0) &#123;
                        c[i].red_soldier[0].strength += 20;
                        if (c[i].red_soldier[0].life &gt; 9) &#123;
                            c[i].red_soldier[0].life -= 9;
                        &#125;
                        else &#123;
                            c[i].red_soldier[0].life = 1;
                        &#125;
                    &#125;
                &#125;
                c[i + 1].red_soldier.push_back(c[i].red_soldier[0]);
                c[i].red_soldier.clear();
            &#125;
        &#125;

    &#125;
    if (c[0].red_soldier.size() == 0) &#123;
        if (s1.red_soldier.size() == 1) &#123;
            if (s1.red_soldier[0].soldiername == &quot;iceman&quot;) &#123;
                s1.red_soldier[0].signal = 1 - s1.red_soldier[0].signal;
                if (s1.red_soldier[0].signal == 0) &#123;
                    s1.red_soldier[0].strength += 20;
                    if (s1.red_soldier[0].life &gt; 9) &#123;
                        s1.red_soldier[0].life -= 9;
                    &#125;
                    else &#123;
                        s1.red_soldier[0].life = 1;
                    &#125;
                &#125;
            &#125;
            c[0].red_soldier.push_back(s1.red_soldier[0]);
            s1.red_soldier.clear();
        &#125;
    &#125;

    //红方需要先挪再输出



    for (int i = 0; i &lt; N; i++) &#123;
        if (i == 0) &#123;
            if (c[i].blue_soldier.size() == 1) &#123;
                if (c[i].blue_soldier[0].soldiername == &quot;iceman&quot;) &#123;
                    c[i].blue_soldier[0].signal = 1 - c[i].blue_soldier[0].signal;
                    if (c[i].blue_soldier[0].signal == 0) &#123;
                        c[i].blue_soldier[0].strength += 20;
                        if (c[i].blue_soldier[0].life &gt; 9) &#123;
                            c[i].blue_soldier[0].life -= 9;
                        &#125;
                        else &#123;
                            c[i].blue_soldier[0].life = 1;
                        &#125;
                    &#125;
                &#125;
                s1.blue_soldier.push_back(c[i].blue_soldier[0]);
                if (s1.blue_soldier.size() == 2) &#123;
                    cnt = true;
                &#125;
                c[i].blue_soldier.clear();
            &#125;
        &#125;
        else &#123;
            if (c[i].blue_soldier.size() == 1) &#123;
                if (c[i].blue_soldier[0].soldiername == &quot;iceman&quot;) &#123;
                    c[i].blue_soldier[0].signal = 1 - c[i].blue_soldier[0].signal;
                    if (c[i].blue_soldier[0].signal == 0) &#123;
                        c[i].blue_soldier[0].strength += 20;
                        if (c[i].blue_soldier[0].life &gt; 9) &#123;
                            c[i].blue_soldier[0].life -= 9;
                        &#125;
                        else &#123;
                            c[i].blue_soldier[0].life = 1;
                        &#125;
                    &#125;
                &#125;
                c[i - 1].blue_soldier.push_back(c[i].blue_soldier[0]);
                c[i].blue_soldier.clear();
            &#125;
        &#125;

    &#125;
    if (c[N - 1].blue_soldier.size() == 0) &#123;
        if (s2.blue_soldier.size() == 1) &#123;
            if (s2.blue_soldier[0].soldiername == &quot;iceman&quot;) &#123;
                s2.blue_soldier[0].signal = 1 - s2.blue_soldier[0].signal;
                if (s2.blue_soldier[0].signal == 0) &#123;
                    s2.blue_soldier[0].strength += 20;
                    if (s2.blue_soldier[0].life &gt; 9) &#123;
                        s2.blue_soldier[0].life -= 9;
                    &#125;
                    else &#123;
                        s2.blue_soldier[0].life = 1;
                    &#125;
                &#125;
            &#125;
            c[N - 1].blue_soldier.push_back(s2.blue_soldier[0]);
            s2.blue_soldier.clear();
        &#125;
    &#125;

    //对士兵：红方如果为N，蓝方为0，考察，且输出留给城市，下面一段只是怕，后面用到但是没有修改


    if (s1.blue_soldier.size() &gt;= 1) &#123;
        if (s1.blue_soldier.size() == 1 &amp;&amp; s1.is_report == false) &#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:10 blue &quot; &lt;&lt; s1.blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; s1.blue_soldier[0].self_serial;
            cout &lt;&lt; &quot; reached red headquarter with &quot; &lt;&lt; s1.blue_soldier[0].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; s1.blue_soldier[0].strength &lt;&lt; endl;
            s1.is_report = true;
        &#125;
        else if(s1.blue_soldier.size() == 2)&#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:10 blue &quot; &lt;&lt; s1.blue_soldier[1].soldiername &lt;&lt; &quot; &quot; &lt;&lt; s1.blue_soldier[1].self_serial;
            cout &lt;&lt; &quot; reached red headquarter with &quot; &lt;&lt; s1.blue_soldier[1].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; s1.blue_soldier[1].strength &lt;&lt; endl;

        &#125;
    &#125;
    if (s1.blue_soldier.size() == 2) &#123;
        print_Hour(Time_hour);
        cout &lt;&lt; &quot;:10 &quot;;
        cout &lt;&lt; &quot;red headquarter was taken&quot; &lt;&lt; endl;
    &#125;

    for (int i = 0; i &lt; N; i++) &#123;
        if (c[i].red_soldier.size() == 1) &#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:10 red &quot; &lt;&lt; c[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; c[i].red_soldier[0].self_serial;
            cout &lt;&lt; &quot; marched to city &quot; &lt;&lt; i + 1 &lt;&lt; &quot; with &quot; &lt;&lt; c[i].red_soldier[0].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; c[i].red_soldier[0].strength &lt;&lt; endl;
        &#125;
        if (c[i].blue_soldier.size() == 1) &#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:10 blue &quot; &lt;&lt; c[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; c[i].blue_soldier[0].self_serial;
            cout &lt;&lt; &quot; marched to city &quot; &lt;&lt; i + 1 &lt;&lt; &quot; with &quot; &lt;&lt; c[i].blue_soldier[0].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; c[i].blue_soldier[0].strength &lt;&lt; endl;
        &#125;
    &#125;
    if (s2.red_soldier.size() &gt;= 1) &#123;
        if (s2.red_soldier.size() == 1 &amp;&amp; s2.is_report == false) &#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:10 red &quot; &lt;&lt; s2.red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; s2.red_soldier[0].self_serial;
            cout &lt;&lt; &quot; reached blue headquarter with &quot; &lt;&lt; s2.red_soldier[0].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; s2.red_soldier[0].strength &lt;&lt; endl;
            s2.is_report = true;
        &#125;
        else if(s2.red_soldier.size() == 2)&#123;
            print_Hour(Time_hour);
            cout &lt;&lt; &quot;:10 red &quot; &lt;&lt; s2.red_soldier[1].soldiername &lt;&lt; &quot; &quot; &lt;&lt; s2.red_soldier[1].self_serial;
            cout &lt;&lt; &quot; reached blue headquarter with &quot; &lt;&lt; s2.red_soldier[1].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; s2.red_soldier[1].strength &lt;&lt; endl;

        &#125;
    &#125;
    if (s2.red_soldier.size() == 2) &#123;
        print_Hour(Time_hour);
        cout &lt;&lt; &quot;:10 &quot;;
        cout &lt;&lt; &quot;blue headquarter was taken&quot; &lt;&lt; endl;
    &#125;


    vector&lt;Soldier&gt;::iterator i = s1._soldier.begin();
    for (; i != s1._soldier.end(); i++) &#123;
        if (i-&gt;city_serial == N) &#123;
            i-&gt;city_serial = N;
        &#125;
        else &#123;
            i-&gt;city_serial++;
        &#125;
    &#125;

    vector&lt;Soldier&gt;::iterator j = s2._soldier.begin();
    for (; j != s2._soldier.end(); j++) &#123;
        if (j-&gt;city_serial == 0) &#123;
            j-&gt;city_serial = 0;
        &#125;
        else &#123;
            j-&gt;city_serial--;
        &#125;
    &#125;
&#125;//移动函数

void clean_sword(Soldier&amp; s) &#123;
    bool operate = false;
    if (s.weapon_number) &#123;
        for (int j = 0; j &lt; s.weapon_number; j++) &#123;
            if (s.weapon[j].weapon_serial == 0) &#123;
                if (s.weapon[j].weapon_strength == 0) &#123;
                    operate = true;
                &#125;
            &#125;
        &#125;
    &#125;

    if (operate) &#123;
        Soldier r(s);
        s.weapon_number--;
        s.weapon.clear();
        if (s.weapon_number) &#123;
            for (int i = 0; i &lt; r.weapon_number; i++) &#123;
                if (r.weapon[i].weapon_serial != 0) &#123;
                    s.weapon.push_back(r.weapon[i]);
                &#125;
            &#125;
        &#125;
        s.weapon_number = s.weapon.size();
    &#125;
&#125;

void fight(Soldier&amp; m, Soldier&amp; n) &#123;
    bool is_have_sword = false;
    int s_ = 0;
    for (int i = 0; i &lt; m.weapon_number; i++) &#123;
        if (m.weapon[i].weapon_serial == 0) &#123;
            is_have_sword = true;
            s_ = i;
        &#125;
    &#125;
    if (is_have_sword) &#123;
        n.life = n.life - m.strength - m.weapon[s_].weapon_strength;
        m.weapon[s_].weapon_strength = m.weapon[s_].weapon_strength * 8 / 10;
        /*clean_sword(m);*/
    &#125;
    else &#123;
        n.life -= m.strength;
    &#125;
&#125;

void fight_back(Soldier&amp; m, Soldier&amp; n) &#123;
    if (m.soldiername == &quot;ninja&quot;) return;
    else &#123;
        bool is_have_sword = false;
        int s_ = 0;
        for (int i = 0; i &lt; m.weapon_number; i++) &#123;
            if (m.weapon[i].weapon_serial == 0) &#123;
                is_have_sword = true;
                s_ = i;
            &#125;
        &#125;
        if (is_have_sword) &#123;
            n.life = n.life - m.strength / 2 - m.weapon[s_].weapon_strength;
            m.weapon[s_].weapon_strength = m.weapon[s_].weapon_strength * 8 / 10;
            /*clean_sword(m);*/
        &#125;
        else &#123;
            n.life -= m.strength / 2;
        &#125;
    &#125;
&#125;//总是考虑m攻击n

bool judge_first_fight(city&amp; _c, Soldier&amp; _r, Soldier&amp; _b) &#123;
    if (_c.flag == 1) &#123;
        return true;
    &#125;
    else if (_c.flag == 0 &amp;&amp; _c.serial % 2 == 1) &#123;
        return true;
    &#125;
    return false;
&#125;//判断_c是否先攻击


int whether_killed(city&amp; c, Soldier&amp; r, Soldier&amp; b) &#123;
    Soldier r1(r);
    Soldier b1(b);
    if (judge_first_fight(c, r, b)) &#123;
        fight(r1, b1);
        if (b1.life &lt;= 0) return -1;
        else &#123;
            Soldier r2(r);
            Soldier b2(b);
            fight(r2, b2);
            if (b.soldiername == &quot;ninja&quot;) &#123;
                return 0;
            &#125;
            else &#123;
                fight_back(b2, r2);
                if (r2.life &lt;= 0) return 1;
                else return 0;
            &#125;
        &#125;
    &#125;//如果c(即是红方)先攻击
    else &#123;
        fight(b1, r1);
        if (r1.life &lt;= 0) return 1;
        else &#123;
            Soldier r3(r);
            Soldier b3(b);
            fight(b3, r3);
            if (r.soldiername == &quot;ninja&quot;) &#123;
                return 0;
            &#125;
            else &#123;
                fight_back(r3, b3);
                if (b3.life &lt;= 0) return -1;
                else return 0;
            &#125;
        &#125;
    &#125;
&#125;

void divide_elements(command&amp; A, vector&lt;city&gt;&amp; m) &#123;
    if (A.color) &#123;
        for (int i = N - 1; i &gt;= 0; i--) &#123;
            if (A.life_city &lt; 8) return;
            if (m[i].whether_fight==true &amp;&amp; m[i].red_soldier.size() == 1&amp;&amp; m[i].blue_soldier.size()==0) &#123;
                A.life_city -= 8;
                /*m[i].whether_fight = false;*/
                m[i].red_soldier[0].life += 8;
            &#125;
        &#125;
    &#125;//红
    else &#123;
        for (int i = 0; i &lt; N; i++) &#123;
            if (A.life_city &lt; 8) return;
            if (m[i].whether_fight==true &amp;&amp; m[i].blue_soldier.size() ==1&amp;&amp;m[i].red_soldier.size()==0) &#123;
                A.life_city -= 8;
                /*m[i].whether_fight = false;*/
                m[i].blue_soldier[0].life += 8;
            &#125;
        &#125;
    &#125;
    return;
&#125;

void get_elements_from_city_true(command&amp; B, vector&lt;city&gt;&amp; n) &#123;
    if (B.color) &#123;
        for (int i = 0; i &lt; N; i++) &#123;
            if (n[i].whether_fight==true &amp;&amp; n[i].red_soldier.size() == 1&amp;&amp; n[i].blue_soldier.size() == 0) &#123;
                n[i].whether_fight = false;
                B.life_city += n[i].life_city;
                n[i].life_city = 0;
            &#125;
        &#125;
    &#125;
    else &#123;
        for (int i = 0; i &lt; N; i++) &#123;
            if (n[i].whether_fight==true &amp;&amp; n[i].blue_soldier.size() == 1&amp;&amp;n[i].red_soldier.size() == 0) &#123;
                n[i].whether_fight = false;
                B.life_city += n[i].life_city;
                n[i].life_city = 0;
            &#125;
        &#125;
    &#125;
&#125;

void clear_arrow(Soldier &amp; r,int ob) &#123;
    Soldier ra(r);
    r.weapon_number -- ;
    r.weapon.clear();
    if (r.weapon_number) &#123;
        for (int i = 0; i &lt; ra.weapon_number; i++) &#123;
            if (i != ob) &#123;
                r.weapon.push_back(ra.weapon[i]);
            &#125;
        &#125;
    &#125;
&#125;

int main() &#123;
    int t;
    cin &gt;&gt; t;
    int dragon_life&#123;&#125;, ninja_life&#123;&#125;, iceman_life&#123;&#125;, lion_life&#123;&#125;, wolf_life&#123;&#125;;
    int dragon_strength&#123;&#125;, ninja_strength&#123;&#125;, iceman_strength&#123;&#125;, lion_strength&#123;&#125;, wolf_strength&#123;&#125;;
    string red_order[5] = &#123; &quot;iceman&quot;,&quot;lion&quot;,&quot;wolf&quot;,&quot;ninja&quot;,&quot;dragon&quot; &#125;;
    string blue_order[5] = &#123; &quot;lion&quot;,&quot;dragon&quot;,&quot;ninja&quot;,&quot;iceman&quot;,&quot;wolf&quot; &#125;;

    int signal_ = 1;
    while (t--) &#123;
        cin &gt;&gt; M &gt;&gt; N &gt;&gt; R &gt;&gt; K &gt;&gt; T;
        cin &gt;&gt; dragon_life &gt;&gt; ninja_life &gt;&gt; iceman_life &gt;&gt; lion_life &gt;&gt; wolf_life;
        cin &gt;&gt; dragon_strength &gt;&gt; ninja_strength &gt;&gt; iceman_strength &gt;&gt; lion_strength &gt;&gt; wolf_strength;
        cout &lt;&lt; &quot;Case &quot; &lt;&lt; signal_ &lt;&lt; &quot;:&quot; &lt;&lt; endl;
        int red_strength[5] = &#123; iceman_strength,lion_strength,wolf_strength,ninja_strength,dragon_strength &#125;;
        int red_life[5] = &#123; iceman_life,lion_life,wolf_life,ninja_life,dragon_life &#125;;
        int blue_strength[5] = &#123; lion_strength,dragon_strength ,ninja_strength,iceman_strength,wolf_strength &#125;;
        int blue_life[5] = &#123; lion_life,dragon_life,ninja_life,iceman_life,wolf_life &#125;;
        Time_hour = 0;
        command red(0, M, red_order, red_strength, red_life, true);
        command blue(N + 1, M, blue_order, blue_strength, blue_life, false);//初始化红蓝两方的司令部
        vector&lt;city&gt; City;
        for (int i = 0; i &lt; N; i++) &#123;
            city a(i + 1, 0);
            City.push_back(a);//添加N个城市
        &#125;
        //vector&lt;Soldier&gt; red_S;
        //vector&lt;Soldier&gt; blue_S;//红蓝双方的士兵组成的vector
        bool judge_break = false;
        while (true) &#123;
            if (judge_overtime(0, T) || judge_break) break;

            if (red.life_city &gt;= red._life[red.order_produce]) &#123;
                red.create_soldier();
                print_Hour(Time_hour);
                cout &lt;&lt; &quot;:00&quot; &lt;&lt; &quot; red &quot; &lt;&lt; red.produce_serial[red.order_produce] &lt;&lt; &quot; &quot; &lt;&lt; red.serial_produce &lt;&lt; &quot; born&quot; &lt;&lt; endl;
                if (red.produce_serial[red.order_produce] == &quot;dragon&quot;) &#123;
                    cout &lt;&lt; &quot;Its morale is &quot; &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; red.red_soldier[0].morale &lt;&lt; endl;
                &#125;
                if (red.produce_serial[red.order_produce] == &quot;lion&quot;) &#123;
                    cout &lt;&lt; &quot;Its loyalty is &quot; &lt;&lt; red.red_soldier[0].loyalty &lt;&lt; endl;
                &#125;
                red.serial_produce++;
                pass(red.order_produce);
            &#125;
            if (blue.life_city &gt;= blue._life[blue.order_produce]) &#123;
                blue.create_soldier();
                print_Hour(Time_hour);
                cout &lt;&lt; &quot;:00&quot; &lt;&lt; &quot; blue &quot; &lt;&lt; blue.produce_serial[blue.order_produce] &lt;&lt; &quot; &quot; &lt;&lt; blue.serial_produce &lt;&lt; &quot; born&quot; &lt;&lt; endl;
                if (blue.produce_serial[blue.order_produce] == &quot;dragon&quot;) &#123;
                    cout &lt;&lt; &quot;Its morale is &quot; &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; blue.blue_soldier[0].morale &lt;&lt; endl;
                &#125;
                if (blue.produce_serial[blue.order_produce] == &quot;lion&quot;) &#123;
                    cout &lt;&lt; &quot;Its loyalty is &quot; &lt;&lt; blue.blue_soldier[0].loyalty &lt;&lt; endl;
                &#125;
                blue.serial_produce++;
                pass(blue.order_produce);
            &#125;

            if (judge_overtime(5, T) || judge_break) break;
            if (red.red_soldier.size() == 1) &#123;
                if (red.red_soldier[0].soldiername == &quot;lion&quot;) &#123;
                    red.red_soldier[0].Run();
                &#125;
            &#125;
            for (int i = 0; i &lt; N; i++) &#123;
                if (City[i].red_soldier.size() == 1) &#123;
                    if (City[i].red_soldier[0].soldiername == &quot;lion&quot;) &#123;
                        City[i].red_soldier[0].Run();
                    &#125;
                &#125;
                if (City[i].blue_soldier.size() == 1) &#123;
                    if (City[i].blue_soldier[0].soldiername == &quot;lion&quot;) &#123;
                        City[i].blue_soldier[0].Run();
                    &#125;
                &#125;
            &#125;
            if (blue.blue_soldier.size() == 1) &#123;
                if (blue.blue_soldier[0].soldiername == &quot;lion&quot;) &#123;
                    blue.blue_soldier[0].Run();
                &#125;
            &#125;

            red.run();
            for (int i = 0; i &lt; N; i++) &#123;
                City[i].run();
            &#125;
            blue.run();

            if (judge_overtime(10, T) || judge_break) break;
            move(City, red, blue, judge_break);

            if (judge_overtime(20, T) || judge_break) break;
            for (int i = 0; i &lt; N; i++) &#123;
                City[i].life_city += 10;
            &#125;

            if (judge_overtime(30, T) || judge_break) break;
            for (int i = 0; i &lt; N; i++) &#123;
                if (City[i].red_soldier.size() == 1 &amp;&amp; City[i].blue_soldier.size() == 0) &#123;
                    red.life_city += City[i].life_city;

                    print_Hour(Time_hour);
                    cout &lt;&lt; &quot;:30 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial;
                    cout &lt;&lt; &quot; earned &quot; &lt;&lt; City[i].life_city &lt;&lt; &quot; elements for his headquarter&quot; &lt;&lt; endl;
                    City[i].life_city = 0;
                &#125;
                else if (City[i].red_soldier.size() == 0 &amp;&amp; City[i].blue_soldier.size() == 1) &#123;
                    blue.life_city += City[i].life_city;
                    print_Hour(Time_hour);
                    cout &lt;&lt; &quot;:30 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial;
                    cout &lt;&lt; &quot; earned &quot; &lt;&lt; City[i].life_city &lt;&lt; &quot; elements for his headquarter&quot; &lt;&lt; endl;
                    City[i].life_city = 0;
                &#125;
            &#125;

            if (judge_overtime(35, T) || judge_break) break;
            //射箭是向下一个城市射箭
            for (int i = 0; i &lt; N; i++) &#123;
                if (i != N - 1) &#123;
                    if (City[i].red_soldier.size() == 1) &#123;
                        for (int j = 0; j &lt; City[i].red_soldier[0].weapon_number; j++) &#123;
                            if (City[i].red_soldier[0].weapon[j].weapon_serial == 2) &#123;
                                if (City[i + 1].blue_soldier.size() == 1) &#123;
                                    City[i + 1].blue_soldier[0].life -= City[i].red_soldier[0].weapon[j].weapon_strength;
                                    City[i].red_soldier[0].weapon[j].use_time--;

                                    if (City[i + 1].blue_soldier[0].life &lt;= 0) &#123;
                                        print_Hour(Time_hour);
                                        cout &lt;&lt; &quot;:35 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial &lt;&lt; &quot; shot&quot;;
                                        cout &lt;&lt; &quot; and killed blue &quot; &lt;&lt; City[i + 1].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i + 1].blue_soldier[0].self_serial &lt;&lt; endl;
                                        /*City[i + 1].blue_soldier.clear();*/
                                        if (City[i + 1].whether_killed_by_arrow == 0) &#123; City[i + 1].whether_killed_by_arrow = -1; City[i + 1].whether_fight = true; &#125;
                                        else &#123; City[i + 1].whether_killed_by_arrow = 0; City[i + 1].whether_fight = false; &#125;
                                    &#125;
                                    else &#123;
                                        print_Hour(Time_hour);
                                        cout &lt;&lt; &quot;:35 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial &lt;&lt; &quot; shot&quot; &lt;&lt; endl;
                                    &#125;

                                    if (City[i].red_soldier[0].weapon[j].use_time == 0) &#123;
                                        clear_arrow(City[i].red_soldier[0], j);
                                    &#125;
                                &#125;
                            &#125;
                        &#125;
                    &#125;
                &#125;
                if (i != 0) &#123;
                    if (City[i].blue_soldier.size() == 1) &#123;
                        for (int j = 0; j &lt; City[i].blue_soldier[0].weapon_number; j++) &#123;
                            if (City[i].blue_soldier[0].weapon[j].weapon_serial == 2) &#123;
                                if (City[i - 1].red_soldier.size() == 1) &#123;
                                    City[i - 1].red_soldier[0].life -= City[i].blue_soldier[0].weapon[j].weapon_strength;
                                    City[i].blue_soldier[0].weapon[j].use_time--;

                                    if (City[i - 1].red_soldier[0].life &lt;= 0) &#123;
                                        print_Hour(Time_hour);
                                        cout &lt;&lt; &quot;:35 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial &lt;&lt; &quot; shot&quot;;
                                        cout &lt;&lt; &quot; and killed red &quot; &lt;&lt; City[i - 1].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i - 1].red_soldier[0].self_serial &lt;&lt; endl;
                                        /*City[i + 1].blue_soldier.clear();*/
                                        if (City[i - 1].whether_killed_by_arrow == 0) &#123; City[i - 1].whether_killed_by_arrow = 1; City[i - 1].whether_fight = true; &#125;
                                        else &#123; City[i - 1].whether_killed_by_arrow = 0; City[i - 1].whether_fight = false; &#125;
                                    &#125;
                                    else &#123;
                                        print_Hour(Time_hour);
                                        cout &lt;&lt; &quot;:35 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial &lt;&lt; &quot; shot&quot; &lt;&lt; endl;
                                    &#125;

                                    if (City[i].blue_soldier[0].weapon[j].use_time == 0) &#123;
                                        clear_arrow(City[i].blue_soldier[0], j);
                                    &#125;

                                &#125;
                            &#125;
                        &#125;
                    &#125;
                &#125;
            &#125;
            if (judge_overtime(38, T) || judge_break) break;

            for (int i = 0; i &lt; N; i++) &#123;
                if (City[i].whether_killed_by_arrow == 0) &#123;
                    if (City[i].red_soldier.size() == 1 &amp;&amp; City[i].blue_soldier.size() == 1&amp;&amp; City[i].red_soldier[0].life&gt;0&amp;&amp; City[i].blue_soldier[0].life&gt;0) &#123;
                        if (whether_killed(City[i], City[i].red_soldier[0], City[i].blue_soldier[0]) == 1) &#123;
                            if (City[i].red_soldier[0].weapon_number) &#123;
                                for (int j = 0; j &lt; City[i].red_soldier[0].weapon_number; j++) &#123;
                                    if (City[i].red_soldier[0].weapon[j].weapon_serial == 1) &#123;
                                        print_Hour(Time_hour);
                                        cout &lt;&lt; &quot;:38 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot;;
                                        cout &lt;&lt; City[i].red_soldier[0].self_serial &lt;&lt; &quot; used a bomb and killed blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial &lt;&lt; endl;
                                        City[i].red_soldier.clear();
                                        City[i].blue_soldier.clear();
                                        break;
                                    &#125;
                                &#125;
                            &#125;
                        &#125;
                        else if (whether_killed(City[i], City[i].red_soldier[0], City[i].blue_soldier[0]) == -1) &#123;
                            if (City[i].blue_soldier[0].weapon_number) &#123;
                                for (int j = 0; j &lt; City[i].blue_soldier[0].weapon_number; j++) &#123;
                                    if (City[i].blue_soldier[0].weapon[j].weapon_serial == 1) &#123;
                                        print_Hour(Time_hour);
                                        cout &lt;&lt; &quot;:38 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot;;
                                        cout &lt;&lt; City[i].blue_soldier[0].self_serial &lt;&lt; &quot; used a bomb and killed red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial &lt;&lt; endl;
                                        City[i].red_soldier.clear();
                                        City[i].blue_soldier.clear();
                                        break;
                                    &#125;
                                &#125;
                            &#125;
                        &#125;
                    &#125;
                &#125;
            &#125;

            //判断是否使用炸弹

            if (judge_overtime(40, T) || judge_break) break;

            for (int i = 0; i &lt; N; i++) &#123;
                if (City[i].red_soldier.size() == 1 &amp;&amp; City[i].blue_soldier.size() == 1 &amp;&amp; City[i].whether_killed_by_arrow == 0 &amp;&amp; City[i].red_soldier[0].life &lt;= 0 &amp;&amp; City[i].blue_soldier[0].life &lt;= 0) &#123;
                    City[i].red_soldier.clear();
                    City[i].blue_soldier.clear();
                &#125;

                if (City[i].red_soldier.size() == 1 &amp;&amp; City[i].blue_soldier.size() == 1&amp;&amp;City[i].whether_killed_by_arrow==0&amp;&amp; City[i].red_soldier[0].life&gt;0&amp;&amp; City[i].blue_soldier[0].life&gt;0) &#123;
                    City[i].whether_fight = true;

                    int life_a = City[i].red_soldier[0].life;
                    int life_b = City[i].blue_soldier[0].life;

                    if (judge_first_fight(City[i], City[i].red_soldier[0], City[i].blue_soldier[0])) &#123;
                        bool whether_go_ahead = true;
                        print_Hour(Time_hour);
                        cout &lt;&lt; &quot;:40 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial;
                        cout &lt;&lt; &quot; attacked blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial;
                        cout &lt;&lt; &quot; in city &quot; &lt;&lt; i + 1 &lt;&lt; &quot; with &quot; &lt;&lt; City[i].red_soldier[0].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; City[i].red_soldier[0].strength;
                        cout &lt;&lt; endl;
                        fight(City[i].red_soldier[0], City[i].blue_soldier[0]);

                        //City[i].red_win_time = City[i].blue_win_time;
                        //City[i].blue_win_time = 0;//先设置为0，如果有胜负就改变，没有胜负就是0,

                        if (City[i].blue_soldier[0].life &lt;= 0) &#123;

                            if (City[i].blue_win_time &gt; 0) &#123;
                                City[i].blue_win_time = 0;
                            &#125;
                            City[i].red_win_time++;
                            //红方胜利

                            print_Hour(Time_hour);
                            cout &lt;&lt; &quot;:40 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial &lt;&lt; &quot; was killed in city &quot; &lt;&lt; i + 1 &lt;&lt; endl;

                            if (City[i].blue_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                City[i].red_soldier[0].life += life_b;
                            &#125;

                            whether_go_ahead = false;

                            if (City[i].red_soldier[0].soldiername == &quot;wolf&quot;) &#123;
                                City[i].red_soldier[0].rob(City[i].blue_soldier[0]);
                            &#125;



                            City[i].blue_soldier.clear();
                        &#125;
                        else &#123;
                            if (City[i].red_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                City[i].red_soldier[0].loyalty -= K;
                            &#125;
                        &#125;


                        if (whether_go_ahead) &#123;
                            if (City[i].blue_soldier[0].soldiername != &quot;ninja&quot;) &#123;
                                print_Hour(Time_hour);
                                cout &lt;&lt; &quot;:40 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial;
                                cout &lt;&lt; &quot; fought back against red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial;
                                cout &lt;&lt; &quot; in city &quot; &lt;&lt; i + 1 &lt;&lt; endl;
                                fight_back(City[i].blue_soldier[0], City[i].red_soldier[0]);
                                if (City[i].red_soldier[0].life &lt;= 0) &#123;

                                    if (City[i].red_win_time &gt; 0) &#123;
                                        City[i].red_win_time = 0;
                                    &#125;
                                    City[i].blue_win_time++;
                                    //蓝方胜利

                                    print_Hour(Time_hour);
                                    cout &lt;&lt; &quot;:40 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial &lt;&lt; &quot; was killed in city &quot; &lt;&lt; i + 1 &lt;&lt; endl;

                                    if (City[i].red_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                        City[i].blue_soldier[0].life += life_a;
                                    &#125;

                                    if (City[i].blue_soldier[0].soldiername == &quot;wolf&quot;) &#123;
                                        City[i].blue_soldier[0].rob(City[i].red_soldier[0]);
                                    &#125;

                                    City[i].red_soldier.clear();

                                &#125;
                                else &#123;
                                    if (City[i].blue_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                        City[i].blue_soldier[0].loyalty -= K;
                                    &#125;
                                    City[i].red_win_time = 0;
                                    City[i].blue_win_time = 0;
                                &#125;
                            &#125;
                            else &#123;
                                City[i].red_win_time = 0;
                                City[i].blue_win_time = 0;
                            &#125;
                        &#125;


                        if (City[i].red_soldier.size() == 1 &amp;&amp; City[i].red_soldier[0].soldiername == &quot;dragon&quot;) &#123;
                            if (City[i].blue_soldier.size() == 1) &#123;
                                City[i].red_soldier[0].morale -= 0.2;
                            &#125;
                            else &#123;
                                City[i].red_soldier[0].morale += 0.2;
                            &#125;
                        &#125;
                        if (City[i].blue_soldier.size() == 1 &amp;&amp; City[i].blue_soldier[0].soldiername == &quot;dragon&quot;) &#123;
                            if (City[i].red_soldier.size() == 1) &#123;
                                City[i].blue_soldier[0].morale -= 0.2;
                            &#125;
                            else &#123;
                                City[i].blue_soldier[0].morale += 0.2;
                            &#125;
                        &#125;
                        if (City[i].red_soldier.size() == 1 ) &#123;
                            City[i].red_soldier[0].cheer(Time_hour, i + 1);
                        &#125;

                    &#125;

                    else &#123;
                        bool whether_go_ahead_ = true;
                        print_Hour(Time_hour);
                        cout &lt;&lt; &quot;:40 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial;
                        cout &lt;&lt; &quot; attacked red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial;
                        cout &lt;&lt; &quot; in city &quot; &lt;&lt; i + 1 &lt;&lt; &quot; with &quot; &lt;&lt; City[i].blue_soldier[0].life &lt;&lt; &quot; elements and force &quot; &lt;&lt; City[i].blue_soldier[0].strength;
                        cout &lt;&lt; endl;
                        fight(City[i].blue_soldier[0], City[i].red_soldier[0]);

                        //City[i].red_win_time = City[i].blue_win_time;
                        //City[i].blue_win_time = 0;//先设置为0，如果有胜负就改变，没有胜负就是0,

                        if (City[i].red_soldier[0].life &lt;= 0) &#123;

                            if (City[i].red_win_time &gt; 0) &#123;
                                City[i].red_win_time = 0;
                            &#125;
                            City[i].blue_win_time++;

                            print_Hour(Time_hour);
                            cout &lt;&lt; &quot;:40 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial &lt;&lt; &quot; was killed in city &quot; &lt;&lt; i + 1 &lt;&lt; endl;
                            whether_go_ahead_ = false;

                            if (City[i].red_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                City[i].blue_soldier[0].life += life_a;
                            &#125;

                            if (City[i].blue_soldier[0].soldiername == &quot;wolf&quot;) &#123;
                                City[i].blue_soldier[0].rob(City[i].red_soldier[0]);
                            &#125;
                            City[i].red_soldier.clear();

                            
                        &#125;

                        if (whether_go_ahead_) &#123;
                            if (City[i].red_soldier[0].soldiername != &quot;ninja&quot;) &#123;
                                print_Hour(Time_hour);
                                cout &lt;&lt; &quot;:40 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial;
                                cout &lt;&lt; &quot; fought back against blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial;
                                cout &lt;&lt; &quot; in city &quot; &lt;&lt; i + 1 &lt;&lt; endl;
                                fight_back(City[i].red_soldier[0], City[i].blue_soldier[0]);
                                if (City[i].blue_soldier[0].life &lt;= 0) &#123;

                                    if (City[i].blue_win_time &gt; 0) &#123;
                                        City[i].blue_win_time = 0;
                                    &#125;
                                    City[i].red_win_time++;

                                    print_Hour(Time_hour);
                                    cout &lt;&lt; &quot;:40 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial &lt;&lt; &quot; was killed in city &quot; &lt;&lt; i + 1 &lt;&lt; endl;

                                    if (City[i].blue_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                        City[i].red_soldier[0].life += life_b;
                                    &#125;

                                    if (City[i].red_soldier[0].soldiername == &quot;wolf&quot;) &#123;
                                        City[i].red_soldier[0].rob(City[i].blue_soldier[0]);
                                    &#125;
                                    City[i].blue_soldier.clear();
                                &#125;
                                else &#123;
                                    if (City[i].red_soldier[0].soldiername == &quot;lion&quot;) &#123;
                                        City[i].red_soldier[0].loyalty -= K;
                                    &#125;
                                    City[i].red_win_time = 0;
                                    City[i].blue_win_time = 0;
                                &#125;
                            &#125;
                            else &#123;
                                City[i].red_win_time = 0;
                                City[i].blue_win_time = 0;
                            &#125;
                        &#125;

                        if (City[i].red_soldier.size() == 1 &amp;&amp; City[i].red_soldier[0].soldiername == &quot;dragon&quot;) &#123;
                            if (City[i].blue_soldier.size() == 1) &#123;
                                City[i].red_soldier[0].morale -= 0.2;
                            &#125;
                            else &#123;
                                City[i].red_soldier[0].morale += 0.2;
                            &#125;
                        &#125;
                        if (City[i].blue_soldier.size() == 1 &amp;&amp; City[i].blue_soldier[0].soldiername == &quot;dragon&quot;) &#123;
                            if (City[i].red_soldier.size() == 1) &#123;
                                City[i].blue_soldier[0].morale -= 0.2;
                            &#125;
                            else &#123;
                                City[i].blue_soldier[0].morale += 0.2;
                            &#125;
                        &#125;

                        if (City[i].blue_soldier.size() == 1) City[i].blue_soldier[0].cheer(Time_hour, i + 1);
                    &#125;

                &#125;



                if (City[i].whether_killed_by_arrow != 0) &#123;
                    if (City[i].whether_killed_by_arrow == 1) &#123;
                        if (City[i].blue_soldier.size() == 1) &#123;
                            if (City[i].blue_soldier[0].soldiername == &quot;dragon&quot;) &#123;
                                City[i].blue_soldier[0].morale += 0.2;
                                if (!judge_first_fight(City[i], City[i].red_soldier[0], City[i].blue_soldier[0])) &#123;
                                    City[i].blue_soldier[0].cheer(Time_hour, i + 1);
                                &#125;
                            &#125;
                            else if (City[i].blue_soldier[0].soldiername == &quot;wolf&quot;) &#123;
                                City[i].blue_soldier[0].rob(City[i].red_soldier[0]);
                            &#125;
                        &#125;
                        if (City[i].blue_soldier.size() != 0) &#123;
                            City[i].blue_win_time++;
                            City[i].red_win_time = 0;
                        &#125;
                        City[i].red_soldier.clear();
                    &#125;
                    else if (City[i].whether_killed_by_arrow == -1) &#123;
                        if (City[i].red_soldier.size() == 1) &#123;
                            if (City[i].red_soldier[0].soldiername == &quot;dragon&quot;) &#123;
                                City[i].red_soldier[0].morale += 0.2;
                                if (judge_first_fight(City[i], City[i].red_soldier[0], City[i].blue_soldier[0])) &#123;
                                    City[i].red_soldier[0].cheer(Time_hour, i + 1);
                                &#125;
                            &#125;
                            else if (City[i].red_soldier[0].soldiername == &quot;wolf&quot;) &#123;
                                City[i].red_soldier[0].rob(City[i].blue_soldier[0]);
                            &#125;
                        &#125;
                        if (City[i].red_soldier.size() != 0) &#123;
                            City[i].red_win_time++;
                            City[i].blue_win_time = 0;
                        &#125;
                        City[i].blue_soldier.clear();
                    &#125;
                    City[i].whether_killed_by_arrow = 0;
                &#125;//表示这个城市有被弓箭射死的士兵

                if (City[i].whether_fight &amp;&amp; City[i].red_soldier.size() == 1&amp;&amp; City[i].blue_soldier.size()==0) &#123;
                    print_Hour(Time_hour);
                    cout &lt;&lt; &quot;:40 red &quot; &lt;&lt; City[i].red_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].red_soldier[0].self_serial;
                    cout &lt;&lt; &quot; earned &quot; &lt;&lt; City[i].life_city &lt;&lt; &quot; elements for his headquarter&quot; &lt;&lt; endl;
                &#125;
                else if (City[i].whether_fight &amp;&amp; City[i].blue_soldier.size() == 1&amp;&amp; City[i].red_soldier.size()==0) &#123;
                    print_Hour(Time_hour);
                    cout &lt;&lt; &quot;:40 blue &quot; &lt;&lt; City[i].blue_soldier[0].soldiername &lt;&lt; &quot; &quot; &lt;&lt; City[i].blue_soldier[0].self_serial;
                    cout &lt;&lt; &quot; earned &quot; &lt;&lt; City[i].life_city &lt;&lt; &quot; elements for his headquarter&quot; &lt;&lt; endl;
                &#125;

                City[i].change_flag();
            &#125;

            divide_elements(red, City);
            divide_elements(blue, City);
            get_elements_from_city_true(red, City);
            get_elements_from_city_true(blue, City);

            for (int i = 0; i &lt; N; i++) &#123;
                City[i].whether_fight = false;
                City[i].whether_killed_by_arrow = false;
                if (City[i].red_soldier.size() == 1) clean_sword(City[i].red_soldier[0]);
                if (City[i].blue_soldier.size() == 1) clean_sword(City[i].blue_soldier[0]);
            &#125;

            if (judge_overtime(50, T) || judge_break) break;
            red.report_command();
            blue.report_command();

            if (judge_overtime(55, T) || judge_break) break;

            for (int i = 0; i &lt; N; i++) &#123;
                if (City[i].red_soldier.size() == 1) &#123;
                    City[i].red_soldier[0].report_soldier();
                &#125;
            &#125;
            if (blue.red_soldier.size() != 0) &#123;
                blue.red_soldier[0].report_soldier();
            &#125;
            if (red.blue_soldier.size() != 0) &#123;
                red.blue_soldier[0].report_soldier();
            &#125;
            for (int i = 0; i &lt; N; i++) &#123;
                if (City[i].blue_soldier.size() == 1) &#123;
                    City[i].blue_soldier[0].report_soldier();
                &#125;
            &#125;

            Time_hour++;
            
        &#125;
        signal_++;
    &#125;
    return 0;
&#125;
</code></pre>

    </div>
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                         
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2022 - 2022 DeckNock
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            @Decknock
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        
<script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script>
<script>
    var clientID = "32dfbc8d69fc140ee15e", clientSecret = "0853b1869138fff56cf50d37b6b1c43a68dc8df7";
    
    const gitalk = new Gitalk({
        clientID: '32dfbc8d69fc140ee15e',
        clientSecret: '0853b1869138fff56cf50d37b6b1c43a68dc8df7',
        repo: "gitalk-comments",
        owner: "codeofck",
        admin: ["codeofck"],
        language: "zh-CN",
        id: location.pathname,
        // distractionFreeMode: true
        // createIssueManually: true
    })
    gitalk.render("gitalk-container")
</script>


    </body>
</html>
<canvas
    id="background"
    style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"
></canvas>
<script src="/js/background.js"></script>